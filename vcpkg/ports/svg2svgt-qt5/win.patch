diff --git a/CMakeLists.txt b/CMakeLists.txt
index dd5ccf2..f1d0d84 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -19,9 +19,12 @@ SET(INCLUDE_INSTALL_DIR include CACHE PATH "Header installation dir")
 STRING(REGEX REPLACE "^${CMAKE_INSTALL_PREFIX}/" "" PC_INCLUDE_DIR ${INCLUDE_INSTALL_DIR})
 STRING(REGEX REPLACE "^${CMAKE_INSTALL_PREFIX}/" "" PC_LIB_DIR ${LIB_INSTALL_DIR} )
 
+SET(WITH_GUI TRUE CACHE BOOL "With GUI")
 
 # Dependencies
-FIND_PACKAGE(Qt5Widgets REQUIRED)
+IF(WITH_GUI)
+    FIND_PACKAGE(Qt5Widgets REQUIRED)
+ENDIF()
 FIND_PACKAGE(Qt5Xml REQUIRED)
 FIND_PACKAGE(Qt5XmlPatterns REQUIRED)
 FIND_PACKAGE(Qt5Svg REQUIRED)
@@ -34,11 +37,14 @@ IF(NOT CMAKE_BUILD_TYPE_TOLOWER MATCHES "debug")
     ADD_DEFINITIONS(-DQT_NO_DEBUG_OUTPUT)
 ENDIF()
 
+set(CMAKE_WINDOWS_EXPORT_ALL_SYMBOLS ON)
 
 # Subdirectories
 ADD_SUBDIRECTORY(svg2svgt)
 ADD_SUBDIRECTORY(cli)
-ADD_SUBDIRECTORY(gui)
+IF(WITH_GUI)
+    ADD_SUBDIRECTORY(gui)
+ENDIF()
 
 
 # Translations
